<!DOCTYPE html>
<html>

<head>
  <title>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º relations, exclude, pagination, filter, sort, search</title>
  <link rel="stylesheet" href="/docs/query.css">
</head>

<body>
  <h1>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º <code>relations</code>, <code>exclude</code>, <code>page</code>, <code>pageSize</code>,
    <code>filter</code>, <code>sort</code>, <code>search</code>
  </h1>
  <p>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤—è–∑—è–º–∏, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –ø–æ–ª–µ–π, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –≤—ã–±–æ—Ä–∫–æ–π –ø–æ–ª–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ –ø–æ–∏—Å–∫–æ–º –≤
    –æ—Ç–≤–µ—Ç–µ API. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –æ–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</p>

  <h2>–°–≤—è–∑–∏ (relations)</h2>
  <table class="doc-table">
    <thead>
      <tr>
        <th>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞</th>
        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/products?relations=category</code></td>
        <td>–í –æ—Ç–≤–µ—Ç–µ –±—É–¥–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç <b>category</b></td>
      </tr>
      <tr>
        <td><code>/products?relations=category,shop</code></td>
        <td>–í –æ—Ç–≤–µ—Ç–µ –±—É–¥—É—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã <b>category</b> –∏ <b>shop</b></td>
      </tr>
      <tr>
        <td><code>/products?relations=["category","shop"]</code></td>
        <td>–¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –∫–∞–∫ –º–∞—Å—Å–∏–≤</td>
      </tr>
      <tr>
        <td><code>/products?relations=category.parent,shop.owner</code></td>
        <td>–í –æ—Ç–≤–µ—Ç–µ –±—É–¥—É—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã <b>category</b> –∏ <b>shop</b>, –∞ —Ç–∞–∫–∂–µ –∏—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã <b>parent</b> –∏
          <b>owner</b> —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ú–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤—è–∑–∏ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É.
        </td>
      </tr>
    </tbody>
  </table>

  <h2>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª–µ–π (exclude)</h2>
  <table class="doc-table">
    <thead>
      <tr>
        <th>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞</th>
        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/products?exclude=description</code></td>
        <td>–í –æ—Ç–≤–µ—Ç–µ –Ω–µ –±—É–¥–µ—Ç –ø–æ–ª—è <b>description</b></td>
      </tr>
      <tr>
        <td><code>/products?exclude=category,shop</code></td>
        <td>–í –æ—Ç–≤–µ—Ç–µ –Ω–µ –±—É–¥–µ—Ç –ø–æ–ª–µ–π <b>category</b> –∏ <b>shop</b></td>
      </tr>
      <tr>
        <td><code>/products?exclude=category.name</code></td>
        <td>–í –æ—Ç–≤–µ—Ç–µ –Ω–µ –±—É–¥–µ—Ç –ø–æ–ª—è <b>name</b> –≤–Ω—É—Ç—Ä–∏ <b>category</b></td>
      </tr>
    </tbody>
  </table>

  <h2>–ü–∞–≥–∏–Ω–∞—Ü–∏—è (page, pageSize)</h2>
  <table class="doc-table">
    <thead>
      <tr>
        <th>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞</th>
        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/products?page=2&pageSize=5</code></td>
        <td>–í –æ—Ç–≤–µ—Ç–µ —Ç–æ–ª—å–∫–æ 5 –∑–∞–ø–∏—Å–µ–π, –Ω–∞—á–∏–Ω–∞—è —Å 6-–π, –∏ meta —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö</td>
      </tr>
    </tbody>
  </table>

  <h2>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (sort)</h2>
  <table class="doc-table">
    <thead>
      <tr>
        <th>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞</th>
        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>/products?sort={"price":"ASC"}</code></td>
        <td>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</td>
      </tr>
      <tr>
        <td><code>/products?sort={"name":"DESC","price":"ASC"}</code></td>
        <td>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–Ω–∞—á–∞–ª–∞ –ø–æ –∏–º–µ–Ω–∏ –ø–æ —É–±—ã–≤–∞–Ω–∏—é, –∑–∞—Ç–µ–º –ø–æ —Ü–µ–Ω–µ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</td>
      </tr>
    </tbody>
  </table>

  <h2>–ü–æ–∏—Å–∫ (search)</h2>
  <table class="doc-table">
    <thead>
      <tr>
        <th>–û–ø–µ—Ä–∞—Ç–æ—Ä</th>
        <th>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞</th>
        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><b>AND</b> (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</td>
        <td><code>/products?search={"category":"–ú–æ–ª–æ—á–Ω—ã–µ","inStock":true}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–ú–æ–ª–æ—á–Ω—ã–µ" –∏ –≤ –Ω–∞–ª–∏—á–∏–∏</td>
      </tr>
      <tr>
        <td><b>OR</b></td>
        <td><code>/products?search={"or":[{"id":1},{"id":2}]}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã —Å id 1 <b>–∏–ª–∏</b> 2</td>
      </tr>
      <tr>
        <td><b>LIKE</b></td>
        <td><code>/products?search={"name":{"like":"—Å—ã—Ä"}}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã, –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å "—Å—ã—Ä"</td>
      </tr>
      <tr>
        <td><b>IN</b></td>
        <td><code>/products?search={"id":{"in":[1,2,3]}}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã —Å id 1, 2 –∏–ª–∏ 3</td>
      </tr>
      <tr>
        <td><b>BETWEEN</b></td>
        <td><code>/products?search={"price":{"from":100,"to":200}}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–æ–π –æ—Ç 100 –¥–æ 200</td>
      </tr>
      <tr>
        <td><b>NULL/NOT NULL</b></td>
        <td><code>/products?search={"photoId":{"isNull":true}}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã –±–µ–∑ —Ñ–æ—Ç–æ</td>
      </tr>
      <tr>
        <td><b>–°—Ä–∞–≤–Ω–µ–Ω–∏—è</b> (gt, lt, gte, lte)</td>
        <td><code>/products?search={"price":{"gt":100}}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–æ–π –±–æ–ª—å—à–µ 100</td>
      </tr>
      <tr>
        <td><b>STARTSWITH</b></td>
        <td><code>/products?search={"name":{"startsWith":"–º–æ"}}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ "–º–æ"</td>
      </tr>
      <tr>
        <td><b>ENDSWITH</b></td>
        <td><code>/products?search={"name":{"endsWith":"–∫–æ"}}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "–∫–æ"</td>
      </tr>
      <tr>
        <td><b>NOT</b></td>
        <td><code>/products?search={"not":{"inStock":true}}</code></td>
        <td>–¢–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã—Ö <b>–Ω–µ—Ç</b> –≤ –Ω–∞–ª–∏—á–∏–∏</td>
      </tr>
    </tbody>
  </table>

  <h3>–°–ª–æ–∂–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</h3>
  <div class="doc-example">
    <div class="doc-example-title">–ü—Ä–∏–º–µ—Ä 1: AND + OR</div>
    <pre>/products?search={"and":[{"name":{"like":"—Å—ã—Ä"}},{"or":[{"price":{"lt":200}},{"inStock":false}]}]}</pre>
    <div class="doc-example-desc">–ù–∞–π–¥—ë—Ç —Ç–æ–≤–∞—Ä—ã, –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å "—Å—ã—Ä" <b>–∏</b> (—Ü–µ–Ω–∞ –º–µ–Ω—å—à–µ 200 <b>–∏–ª–∏</b> –Ω–µ—Ç
      –≤ –Ω–∞–ª–∏—á–∏–∏).</div>
  </div>
  <div class="doc-example">
    <div class="doc-example-title">–ü—Ä–∏–º–µ—Ä 2: OR + BETWEEN</div>
    <pre>/products?search={"or":[{"price":{"from":100,"to":200}},{"category":"–°—ã—Ä—ã"}]}</pre>
    <div class="doc-example-desc">–ù–∞–π–¥—ë—Ç —Ç–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–æ–π –æ—Ç 100 –¥–æ 200 <b>–∏–ª–∏</b> –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–°—ã—Ä—ã".</div>
  </div>
  <div class="doc-example">
    <div class="doc-example-title">–ü—Ä–∏–º–µ—Ä 3: NOT + LIKE</div>
    <pre>/products?search={"not":{"name":{"like":"—Å—ã—Ä"}}}</pre>
    <div class="doc-example-desc">–ù–∞–π–¥—ë—Ç —Ç–æ–≤–∞—Ä—ã, –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö <b>–Ω–µ—Ç</b> —Å–ª–æ–≤–∞ "—Å—ã—Ä".</div>
  </div>

  <div class="info-block">
    <span class="info-icon">üí°</span>
    <span>–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Å–≤—è–∑—è–º, –∏—Å–∫–ª—é—á–µ–Ω–∏—é –ø–æ–ª–µ–π, –ø–∞–≥–∏–Ω–∞—Ü–∏–∏, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ –∏–ª–∏ –ø–æ–∏—Å–∫—É ‚Äî –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å
      –∫ backend-–∫–æ–º–∞–Ω–¥–µ!</span>
  </div>
</body>

</html>